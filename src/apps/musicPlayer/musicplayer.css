/*
 * musicplayer.css â€” Styles for the Music Player application.
 * Defines the visual appearance of the music player, including layout,
 * colors, gradients, button styles, and album art presentation.
 * @file src/apps/musicPlayer/musicplayer.css
 */

/* ===== Base Styles & Iframe Reset ===== */
html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden; /* Prevents scrollbars on the body if content overflows slightly */
  background-color: #212121; /* Dark background for the iframe body, blends with player */
  position: relative; /* Positioning context for the absolute positioned player */
}

/* Basic reset for images if any are used directly outside of SVGs or backgrounds */
img {
  width: 20px; /* Default small width */
  height: 20px; /* Default small height */
}

/* ===== Main Player Container ===== */
.music-player {
  position: absolute;
  left: 50%;
  top: 50%;
  /* Centering and scaling the player */
  transform: translate(-50%, -50%) scale(0.6); /* User-defined scale for fitting into iframe */
  transform-origin: center center;

  /* Internal layout */
  display: flex;
  justify-content: center;
  align-items: center;

  width: 697px; /* Original width before scaling */
  height: 372px; /* Original height before scaling */
  border-radius: 0; /* XP style - no rounded corners for the main window */
  border: 2px solid #1a1a1a; /* Dark border */
  background: linear-gradient(
    380deg,
    #1a1a1a 0%,
    #3c3c3c 100%
  ); /* Main gradient background */
}

/* --- Player Texture Overlay --- */
.texture {
  position: absolute;
  z-index: 1; /* Sits above the main background but below inner content */
  width: 100%;
  height: 100%;
  border-radius: 0px; /* Consistent with parent */
  /* background: url(https://upload.wikimedia.org/wikipedia/commons/9/9a/512x512_Dissolve_Noise_Texture.png); */ /* Temporarily commented out */
  background-clip: border-box;
  mix-blend-mode: multiply;
  opacity: 0.25; /* Subtle effect */
  pointer-events: none; /* Does not interfere with interactions */
}

/* --- Inner Content Area --- */
.mp-inner {
  display: flex;
  justify-content: space-around; /* Spaces out album art and controls */
  align-items: center;
  width: 98%; /* Slightly smaller than parent for an inset look */
  height: 96%; /* Slightly smaller than parent */
  border-radius: 0px; /* Consistent with parent */
  background: linear-gradient(
    180deg,
    #1b1b1b 0%,
    #212121 11.2%,
    #3a3a3a 100%
  ); /* Inner area gradient */
}

/* ===== Album Artwork Section ===== */
.album-artwork {
  position: relative; /* For positioning child elements like text and effects */
  z-index: 2; /* Above texture */
  width: 345px;
  height: 313px;
  border-radius: 28px; /* Rounded corners for the artwork display itself */
  border: 4px solid #1e1e1e; /* Border for the artwork panel */
  background-size: 100%; /* Ensure background image covers the area */
  transition: background-image 0.2s ease-in-out; /* Smooth transition for artwork changes */
}

/* --- Artwork Border Graphics --- */
.album-border {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  width: 100%;
  height: 100%;
  filter: blur(1px); /* Subtle blur for the decorative border SVGs */
}

/* --- Artwork Reflection Effect --- */
.album-reflection {
  position: absolute;
  width: 30%; /* Width of the reflection highlight */
  height: 100%;
  opacity: 0.4; /* Semi-transparent */
  transform: translateX(128px) skewX(-30deg); /* Positions and skews the reflection */
  filter: blur(2.4px); /* Blurs the reflection for a softer look */
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.2) 0%,
    rgba(255, 255, 255, 0) 100%
  ); /* White to transparent gradient */
}

/* --- Artwork Screen Scanline Effect --- */
.albmu-scrn-fx {
  position: absolute;
  display: flex;
  gap: 2px; /* Space between scanlines */
  border-radius: 30px; /* Matches artwork container rounding */
  width: 100%;
  height: 100%;
  overflow: hidden; /* Ensures lines don't spill due to blur */
}

.scrn-fx-line {
  width: 4px; /* Width of each scanline */
  height: 100%;
  background: linear-gradient(
    180deg,
    rgba(2, 2, 2, 0.1) 0%,
    rgba(2, 2, 2, 0) 100%
  ); /* Dark to transparent gradient for lines */
  filter: blur(0.5px); /* Soft blur on scanlines */
}

/* --- Text Overlay on Album Artwork (Song Title & Artist) --- */
.album-text {
  position: absolute;
  width: 100%;
  height: 70%; /* Covers the bottom part of the artwork */
  /* Gradient from transparent to dark, making text readable at the bottom */
  background: linear-gradient(
    180deg,
    rgba(2, 2, 2, 0) 30%,
    rgba(2, 2, 2, 0.671) 60%,
    rgba(2, 2, 2, 0.8) 80%,
    rgba(2, 2, 2, 0.98) 100%
  );
  bottom: 0; /* Aligns to the bottom of the artwork container */
  filter: blur(0.6px); /* Slight blur on the text container for effect */
  opacity: 0.89; /* Slightly transparent */
  border-radius: 0px 0px 24px 24px; /* Rounded bottom corners to match artwork panel */
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* Aligns text to the bottom of this container */
  padding: 10px 20px 20px 20px; /* Inner spacing for text */
  box-sizing: border-box;
  color: #fff; /* Default text color */
  font-family: Tahoma, Arial, sans-serif; /* XP style font */
}

.album-text h1 {
  font-size: 30px;
  margin: 0;
  margin-bottom: 4px; /* Space below title */
  text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.5); /* Subtle text shadow */
  /* color and font-family inherited from .album-text */
}

.album-text p {
  font-size: 24px;
  margin: 0;
  text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.4); /* Subtle text shadow */
  /* color and font-family inherited from .album-text */
}

/* ===== Button Controls Section ===== */
.button-controls {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 254px; /* Dimensions for the circular control area */
  height: 254px;
  margin-right: 10px; /* Spacing from the edge of mp-inner */
  background: linear-gradient(
    180deg,
    #292929 0%,
    #1f1f1f 100%
  ); /* Background for the control pod */
  border: 4px solid #0d0d0d; /* Dark border for the pod */
  border-radius: 50%; /* Makes it circular */
  perspective: 120em; /* Used for 3D transform effects on .btn-overlay */
}

/* --- Control Buttons Overlay (for 3D press effect) --- */
.btn-overlay {
  position: relative; /* Context for absolutely positioned buttons */
  width: 236px; /* Slightly smaller than parent for inset look */
  height: 236px;
  border-radius: 50%;
  background: linear-gradient(
    175deg,
    #1f1f1f 3.94%,
    #2d2d2d 44.59%,
    #3d3d3d 81.99%
  ); /* Gradient for the overlay */
  box-shadow: 0px 4px 7px 1px rgba(255, 255, 255, 0.11) inset; /* Inner shadow for depth */
  transition:
    transform 0.1s ease,
    box-shadow 0.1s ease,
    filter 0.1s ease; /* Smooth transitions for press effects */
}

/* Styles for visual feedback when skip/volume buttons are pressed (tilting effect) */
.btn-overlay.left {
  transform: rotateY(-6deg) skew(1deg, -1deg); /* Tilt effect */
  box-shadow:
    0px 4px 7px 1px rgba(255, 255, 255, 0.11) inset,
    16px 4px 14px 0px rgba(0, 0, 0, 0.05) inset; /* Adjusted shadow for tilt */
  filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
}

.btn-overlay.right {
  transform: rotateY(6deg) skew(-1deg, 1deg); /* Tilt effect */
  box-shadow:
    0px 4px 7px 1px rgba(255, 255, 255, 0.11) inset,
    -16px 4px 14px 0px rgba(0, 0, 0, 0.05) inset; /* Adjusted shadow for tilt */
  filter: drop-shadow(0px 4px -4px rgba(0, 0, 0, 0.25));
}

.btn-overlay.up {
  transform: rotateX(8deg); /* Tilt effect */
  box-shadow:
    0px 4px 7px 1px rgba(255, 255, 255, 0.09) inset,
    0px -4px 14px 0px rgba(0, 0, 0, 0.05) inset; /* Adjusted shadow for tilt */
  filter: drop-shadow(0px 4px -4px rgba(0, 0, 0, 0.25));
}

.btn-overlay.down {
  transform: rotateX(-8deg); /* Tilt effect */
  box-shadow:
    0px 4px 7px 1px rgba(255, 255, 255, 0.1) inset,
    0px -14px 14px 0px rgba(0, 0, 0, 0.05) inset; /* Adjusted shadow for tilt */
  filter: drop-shadow(0px 4px -4px rgba(0, 0, 0, 0.25));
}

/* --- Play Button Specific Styles --- */
.play-btn-shadow {
  position: absolute;
  width: 108px; /* Size of the shadow element */
  height: 108px;
  border-radius: 50%;
  transform: translate(-50%, -50%); /* Centering */
  top: 50%;
  left: 50%;
  background: rgba(0, 0, 0, 0.7); /* Dark, semi-transparent shadow */
  filter: blur(1.5px); /* Soft blur for the shadow */
}

.play-btn {
  cursor: pointer;
  position: absolute;
  width: 100px; /* Play button size */
  height: 100px;
  border-radius: 50%; /* Circular button */
  transform: translate(-50%, -50%); /* Centering */
  top: 50%;
  left: 50%;
  background: linear-gradient(
    180deg,
    #292929 0%,
    #1f1f1f 100%
  ); /* Gradient for play button */
  transition: transform 0.1s ease; /* Smooth transition for press effect */
}

/* Visual feedback for play button press (scales down) */
.play-btn.pressed {
  transform: translate(-50%, -50%) scale(0.96); /* Scale down effect */
  /* transition is inherited from .play-btn */
}

/* Overlay on the play button for inner gradient/shadow */
.play-btn-overlay {
  position: absolute;
  width: 86px; /* Slightly smaller for inset look */
  height: 86px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Centering */
  background: linear-gradient(
    189deg,
    #1f1f1f 6.91%,
    #2d2d2d 50.27%,
    #393939 83.66%
  );
  box-shadow: 0px 1px 2px 0px rgba(255, 255, 255, 0.12) inset; /* Inner shadow */
}

/* Container for the play/pause icon SVG */
.play-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  width: 40px; /* Icon container size */
  height: 40px;
  border-radius: 50%; /* Though icon is not circular, this can be stylistic */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Centering icon */
}

/* --- Skip and Volume Buttons --- */
/* Common positioning for skip/volume buttons (individual SVGs handle their look) */
.skip-left,
.skip-right,
.vol-up,
.vol-down {
  cursor: pointer;
  position: absolute;
  display: flex; /* To help center SVGs if needed */
  align-items: center;
  justify-content: center;
  transition: filter 0.1s ease; /* For potential hover/active effects if added */
}

/* Individual positioning for each button around the central play button */
.skip-left {
  width: 40px;
  height: 25px;
  top: 49%;
  left: 5%; /* Adjusted from 9% */
  transform: translateY(-50%) rotate(-2deg); /* Slight rotation for style */
}

.skip-right {
  width: 40px;
  height: 25px;
  top: 49%;
  right: 5%; /* Adjusted from 9% */
  transform: translateY(-50%) rotate(2deg); /* Slight rotation for style */
}

.vol-up {
  width: 30px;
  height: 34px; /* Adjusted from 24px */
  top: 8%; /* Adjusted from 10% to re-center */
  left: 50.5%;
  transform: translateX(-50%) rotate(1deg); /* Slight rotation for style */
}

.vol-down {
  width: 28px;
  height: 24px;
  bottom: 5%; /* Adjusted from 10% */
  left: 50%;
  transform: translateX(-50%) rotate(-1deg); /* Slight rotation for style */
}

/* Ensure SVGs within buttons scale correctly and fill their containers */
.skip-left svg,
.skip-right svg,
.vol-up svg,
.vol-down svg,
.play-icon svg {
  width: 100%;
  height: 100%;
  display: block; /* Removes extra space below SVG if it were inline */
}
