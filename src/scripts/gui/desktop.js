const _0x4a2073=_0x4ae3;(function(_0x2aacb4,_0x57bf79){const _0x282c60=_0x4ae3,_0x22e3e9=_0x2aacb4();while(!![]){try{const _0x281142=parseInt(_0x282c60(0xd5))/0x1*(parseInt(_0x282c60(0x100))/0x2)+-parseInt(_0x282c60(0xf6))/0x3+parseInt(_0x282c60(0x106))/0x4+parseInt(_0x282c60(0xe8))/0x5+parseInt(_0x282c60(0x110))/0x6+-parseInt(_0x282c60(0xfc))/0x7+parseInt(_0x282c60(0x121))/0x8*(-parseInt(_0x282c60(0xdc))/0x9);if(_0x281142===_0x57bf79)break;else _0x22e3e9['push'](_0x22e3e9['shift']());}catch(_0xa1f5a6){_0x22e3e9['push'](_0x22e3e9['shift']());}}}(_0x3fb3,0xbb712));import{EVENTS}from'../utils/eventBus.js';import{isMobileDevice}from'../utils/device.js';let SOCIALS_CACHE=null;function _0x3fb3(){const _0x5d8150=['z2v0swnVBNm','CMvKDwnL','ntu3mJiWvM56yMXt','DgHLBG','C2v0DxbezxnRDg9WrxzLBNrZ','y2XPy2S','ywrKrxzLBNrmAxn0zw5LCG','D2fSBhbHCgvYtw9IAwXL','mZGXmtq4nKv5wKfrvq','u1rbuLrnru5vx09qru5fra','BMfTzq','y2XPzw50wa','nJiZnte2zuTysNf2','C2v0DxbqB2LUDgvYu2vSzwn0Aw9UrxzLBNrZ','C2vSzwn0zwq','y2XHC3noyw1L','Cg9PBNrLCM1VDMu','C3r5Bgu','nZqXnZiWCwjzr2PU','Dg9Nz2XLswnVBLnLBgvJDgLVBG','iL0GAw1N','AgLNAgXPz2H0swnVBNnjBNrLCNnLy3rPBMC','y3rYBeTLEq','y29UDgfPBNm','DgfNtMfTzq','C3bHBG','AgfZrhjHz2DLza','A2v5','ndy3mZqXmNzmB0jSyq','zgvZA3rVCa','z2v0qM91BMrPBMDdBgLLBNrszwn0','C2vSzwn0zwrjy29UCW','Dg9W','BgfZDenSAwnRvgLTzxm','lI9PBMzVlMPZB24','ywn0AxzLrhjHz1bVAw50zxjjza','y2XLyw51CefYDgLMywn0CW','yxnZAwDU','C3rHCNrz','DgfYz2v0','C2vSzwn0Aw9UqM94','BgvMDa','ufjpr1jbtv9puevo','lMrLC2T0B3aTAwnVBLTKyxrHlxbYB2DYyw0TBMfTzt0I','DhjPBq','oeTJCKLpCG','D2fSBhbHCgvYlw1VyMLSzq','Cg9PBNrLCMrVD24','DxbKyxrLu29JAwfSrgvZA3rVCeLJB25Z','lMrLC2T0B3a','C3vIC2nYAwjL','CxvLCNLtzwXLy3rVCG','zM9YrwfJAa','C2v0Dxbjy29UrxzLBNrZ','ngTptMjfuq','zgL2','Cg9PBNrLCKLK','CMvZzxreCMfNu2vSzwn0Aw9Uu3rHDgu','rMfPBgvKihrVigzLDgnOihn5C3rLBs5QC29UoG','lI9ZExn0zw0UANnVBG','CMvTB3zLq2HPBgq','mte0nZqZndnouMXLELO','C29JAwfSCW','AxneCMfNz2LUzW','Ag92zxiTyNKTC2vSzwn0Aw9U','v0Lore9xx0nsrufuruq','ywrK','y2XHC3nmAxn0','x2jSyw5R','y2XLyxjtzwXLy3rPB24','y2XLyxjuzw1WB3jHCNLiAwDOBgLNAhrZ','zgvSzxrL','zxzLBNrcDxm','mJGWnZGXnxbqDunWsG','CgfYzw50tM9Kzq','C2vSzwn0Aw9UlwjVEa','ANnVBG','C3rHCNry','ywjZ','CMvTB3zL','DxjSkcC','CxvLCNLtzwXLy3rVCKfSBa','B3zLCMXHEq','C2vSzwn0swnVBG','lMrLC2T0B3aTAwnVBG'];_0x3fb3=function(){return _0x5d8150;};return _0x3fb3();}async function getSocials(){const _0x6ed2f9=_0x4ae3;if(SOCIALS_CACHE)return SOCIALS_CACHE;try{const _0x5ba363=await fetch(_0x6ed2f9(0x116)),_0x196ac0=await _0x5ba363[_0x6ed2f9(0xeb)]();return SOCIALS_CACHE=Array['isArray'](_0x196ac0['socials'])?_0x196ac0[_0x6ed2f9(0xdd)]:[],SOCIALS_CACHE;}catch(_0x162a28){return console['error']('Failed\x20to\x20fetch\x20or\x20parse\x20socials\x20from\x20info.json:',_0x162a28),SOCIALS_CACHE=[],SOCIALS_CACHE;}}let SYSTEM_ASSETS=null;async function getSystemAssets(){const _0x2b8b05=_0x4ae3;if(SYSTEM_ASSETS)return SYSTEM_ASSETS;try{const _0x4825a7=await fetch(_0x2b8b05(0xda));return SYSTEM_ASSETS=await _0x4825a7['json'](),SYSTEM_ASSETS;}catch(_0x528253){return console['error'](_0x2b8b05(0xd9),_0x528253),SYSTEM_ASSETS={},SYSTEM_ASSETS;}}function _0x4ae3(_0x50c7f9,_0x18e92f){const _0x3fb3f7=_0x3fb3();return _0x4ae3=function(_0x4ae3f2,_0x5d9266){_0x4ae3f2=_0x4ae3f2-0xd5;let _0x35135d=_0x3fb3f7[_0x4ae3f2];if(_0x4ae3['PWyAAh']===undefined){var _0x7c6ae2=function(_0x5ba363){const _0x196ac0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x162a28='',_0x4825a7='';for(let _0x528253=0x0,_0x14d31f,_0x10dbad,_0x193caf=0x0;_0x10dbad=_0x5ba363['charAt'](_0x193caf++);~_0x10dbad&&(_0x14d31f=_0x528253%0x4?_0x14d31f*0x40+_0x10dbad:_0x10dbad,_0x528253++%0x4)?_0x162a28+=String['fromCharCode'](0xff&_0x14d31f>>(-0x2*_0x528253&0x6)):0x0){_0x10dbad=_0x196ac0['indexOf'](_0x10dbad);}for(let _0x503c7f=0x0,_0x5b4325=_0x162a28['length'];_0x503c7f<_0x5b4325;_0x503c7f++){_0x4825a7+='%'+('00'+_0x162a28['charCodeAt'](_0x503c7f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4825a7);};_0x4ae3['LEWVCW']=_0x7c6ae2,_0x50c7f9=arguments,_0x4ae3['PWyAAh']=!![];}const _0x259766=_0x3fb3f7[0x0],_0x4feb6d=_0x4ae3f2+_0x259766,_0x429045=_0x50c7f9[_0x4feb6d];return!_0x429045?(_0x35135d=_0x4ae3['LEWVCW'](_0x35135d),_0x50c7f9[_0x4feb6d]=_0x35135d):_0x35135d=_0x429045,_0x35135d;},_0x4ae3(_0x50c7f9,_0x18e92f);}export default class Desktop{constructor(_0x14d31f){const _0x59408f=_0x4ae3;this[_0x59408f(0xe7)]=_0x14d31f,this[_0x59408f(0x111)]=document[_0x59408f(0x127)](_0x59408f(0x125)),this[_0x59408f(0x11c)]=null,this[_0x59408f(0xde)]=!0x1,this['hasDragged']=!0x1,this['startX']=0x0,this[_0x59408f(0x11a)]=0x0,this[_0x59408f(0x115)]={},this[_0x59408f(0x113)]=new Set(),this[_0x59408f(0x117)]=null,this[_0x59408f(0x118)](),this['createSelectionOverlay'](),getSocials()[_0x59408f(0xf7)](_0x10dbad=>{const _0x89a413=_0x59408f;this['socials']=_0x10dbad,this[_0x89a413(0x124)](),this['setupIconEvents']();}),this[_0x59408f(0xf8)](),this[_0x59408f(0x101)](),this[_0x59408f(0x111)]['classList']['remove']('wallpaper-default','wallpaper-mobile'),isMobileDevice()?this[_0x59408f(0x111)]['classList'][_0x59408f(0xe1)](_0x59408f(0x122)):this[_0x59408f(0x111)][_0x59408f(0xe2)][_0x59408f(0xe1)]('wallpaper-default'),this[_0x59408f(0xe7)][_0x59408f(0x126)](EVENTS[_0x59408f(0xe0)],()=>this['clearSelection']()),this[_0x59408f(0xe7)][_0x59408f(0x126)](EVENTS['WINDOW_FOCUSED'],()=>this['clearSelection']()),this[_0x59408f(0xe7)]['subscribe'](EVENTS['PROGRAM_OPEN'],()=>this['resetDragSelectionState']()),this['eventBus']['subscribe'](EVENTS[_0x59408f(0xfd)],()=>this['resetDragSelectionState']()),getSystemAssets()[_0x59408f(0xf7)](_0x193caf=>{const _0x59939f=_0x59408f;isMobileDevice()&&_0x193caf[_0x59939f(0xfb)]?this[_0x59939f(0x111)][_0x59939f(0x105)]['backgroundImage']=_0x59939f(0xef)+_0x193caf[_0x59939f(0xfb)]+'\x27)':_0x193caf['wallpaperDesktop']&&(this[_0x59939f(0x111)]['style']['backgroundImage']='url(\x27'+_0x193caf['wallpaperDesktop']+'\x27)');});}['getIcons'](){const _0xb402a5=_0x4ae3;return this[_0xb402a5(0x111)][_0xb402a5(0xf0)](_0xb402a5(0xf3));}['cleanupArtifacts'](){const _0x1b447f=_0x4ae3;document['querySelectorAll']('#selection-box,\x20.selection-box')[_0x1b447f(0x128)](_0x503c7f=>_0x503c7f['remove']());}['createSelectionOverlay'](){const _0xe71a24=_0x4ae3;this['overlay']||(this['overlay']=document['createElement']('div'),this[_0xe71a24(0xf1)]['className']='selection-overlay',this[_0xe71a24(0x111)]['prepend'](this['overlay']));}['updateSocialDesktopIcons'](){const _0x4a75a3=_0x4ae3;this['socials']&&this[_0x4a75a3(0xdd)][_0x4a75a3(0x128)](_0x5b4325=>{const _0xd19b3c=_0x4a75a3,_0x12dd12=this['desktop'][_0xd19b3c(0x127)](_0xd19b3c(0x11f)+_0x5b4325[_0xd19b3c(0x10f)]+_0xd19b3c(0x108));if(_0x12dd12&&_0x5b4325['icon']){const _0x277f31='./'+_0x5b4325['icon']['replace'](/^\.\//,'')['replace'](/^\//,'');_0x12dd12['src']=_0x277f31,_0x12dd12['alt']=_0x5b4325[_0xd19b3c(0xfe)];}});}[_0x4a2073(0x129)](){const _0x50cdc8=_0x4a2073,_0x26a566='ontouchstart'in window||navigator['maxTouchPoints']>0x0,_0x2a750d=(this[_0x50cdc8(0xdd)]||[])[_0x50cdc8(0xf5)]((_0x262859,_0x187bae)=>(_0x262859[_0x187bae[_0x50cdc8(0x10f)]]=_0x187bae,_0x262859),{});this[_0x50cdc8(0xf4)]()[_0x50cdc8(0x128)](_0x5153e8=>{const _0x5a64fe=_0x50cdc8;if('A'===_0x5153e8[_0x5a64fe(0x10c)])return;const _0x55174f=_0x5153e8[_0x5a64fe(0x127)](_0x5a64fe(0x10d)),_0xf4e41a=_0x55174f?_0x55174f['textContent'][_0x5a64fe(0x120)]()['toLowerCase']()['replace'](/\s+/g,'-'):'',_0x189ede=_0x294c72=>{const _0x4e330d=_0x5a64fe;if(_0x294c72['stopPropagation'](),_0x26a566&&_0x4e330d(0xf9)===_0x294c72['type'])return;const _0x1b3ef2=Date['now']();if(_0x1b3ef2-(this['lastClickTimes'][_0xf4e41a]||0x0)<0x190){_0x5153e8[_0x4e330d(0xe2)][_0x4e330d(0x10b)]('selected')||this[_0x4e330d(0xf2)](_0x5153e8,!0x0);let _0x2277f9=_0x5153e8['getAttribute']('data-program-name');_0x2a750d[_0x2277f9]?window['open'](_0x2a750d[_0x2277f9]['url'],_0x4e330d(0xe3)):this['eventBus']['publish'](EVENTS[_0x4e330d(0x11e)],{'programName':_0x2277f9}),this['lastClickTimes'][_0xf4e41a]=0x0;}else this['toggleIconSelection'](_0x5153e8,_0x294c72[_0x4e330d(0x10a)]),this[_0x4e330d(0x115)][_0xf4e41a]=_0x1b3ef2;};_0x26a566?_0x5153e8['addEventListener']('touchend',_0x189ede):_0x5153e8['addEventListener']('click',_0x189ede);});}[_0x4a2073(0xf8)](){const _0x33b8e7=_0x4a2073;this['desktop']['addEventListener'](_0x33b8e7(0xf9),_0x4de5f1=>{const _0x2fb22f=_0x33b8e7;_0x4de5f1[_0x2fb22f(0x11b)]!==this['desktop']&&_0x4de5f1[_0x2fb22f(0x11b)]!==this['overlay']||this['isDragging']||this[_0x2fb22f(0x10e)]||this['clearSelection']();});}[_0x4a2073(0x101)](){const _0x35e08a=_0x4a2073;window[_0x35e08a(0xfa)](_0x35e08a(0x123),_0x1f51a5=>{const _0x36a6d6=_0x35e08a;if(_0x1f51a5[_0x36a6d6(0x11b)]!==this['overlay']&&_0x1f51a5[_0x36a6d6(0x11b)]!==this['desktop'])return;if(isMobileDevice()&&(null!==this['activeDragPointerId']&&this['activeDragPointerId']!==_0x1f51a5[_0x36a6d6(0xd7)]||this[_0x36a6d6(0xde)]&&this[_0x36a6d6(0x117)]===_0x1f51a5[_0x36a6d6(0xd7)])&&this[_0x36a6d6(0xd8)](),this['isDragging'])return;_0x1f51a5['ctrlKey']||this['clearSelection']();const _0x32f863=this[_0x36a6d6(0x111)]['getBoundingClientRect']();this['startX']=_0x1f51a5[_0x36a6d6(0xff)]-_0x32f863['left'],this['startY']=_0x1f51a5['clientY']-_0x32f863[_0x36a6d6(0x114)],this['clearTemporaryHighlights'](),this['selectionBox']=document['createElement'](_0x36a6d6(0xd6)),this[_0x36a6d6(0x11c)][_0x36a6d6(0x103)]=_0x36a6d6(0xea),Object['assign'](this['selectionBox']['style'],{'left':this['startX']+'px','top':this['startY']+'px','width':'0px','height':'0px'}),this[_0x36a6d6(0x111)]['appendChild'](this['selectionBox']),this[_0x36a6d6(0xde)]=!0x0,this['hasDragged']=!0x1,this['activeDragPointerId']=_0x1f51a5['pointerId'];}),window['addEventListener'](_0x35e08a(0x104),_0x58b2ca=>{const _0x3e4111=_0x35e08a;if(!this['isDragging']||!this['selectionBox'])return;if(isMobileDevice()&&_0x58b2ca[_0x3e4111(0xd7)]!==this[_0x3e4111(0x117)])return;this[_0x3e4111(0x10e)]=!0x0;const _0x281c3d=this[_0x3e4111(0x111)][_0x3e4111(0x112)](),_0x2f388c=_0x58b2ca[_0x3e4111(0xff)]-_0x281c3d['left'],_0x532aa1=_0x58b2ca['clientY']-_0x281c3d[_0x3e4111(0x114)],_0x38a471=Math['min'](_0x2f388c,this[_0x3e4111(0xec)]),_0xbdb092=Math['min'](_0x532aa1,this['startY']),_0x540268=Math['abs'](_0x2f388c-this[_0x3e4111(0xec)]),_0x2c6a70=Math[_0x3e4111(0xed)](_0x532aa1-this['startY']);Object[_0x3e4111(0x119)](this[_0x3e4111(0x11c)][_0x3e4111(0x105)],{'left':_0x38a471+'px','top':_0xbdb092+'px','width':_0x540268+'px','height':_0x2c6a70+'px'}),this[_0x3e4111(0x109)](_0x38a471,_0xbdb092,_0x540268,_0x2c6a70);}),window[_0x35e08a(0xfa)]('pointerup',_0x47b0b7=>{const _0x3ef67c=_0x35e08a;this[_0x3ef67c(0xde)]&&this[_0x3ef67c(0x11c)]&&(isMobileDevice()&&_0x47b0b7[_0x3ef67c(0xd7)]!==this[_0x3ef67c(0x117)]||(this[_0x3ef67c(0xde)]=!0x1,this[_0x3ef67c(0xf4)]()['forEach'](_0xeacb0c=>{const _0x31b1e2=_0x3ef67c;_0xeacb0c[_0x31b1e2(0xe2)][_0x31b1e2(0x10b)](_0x31b1e2(0xdf))&&(_0xeacb0c[_0x31b1e2(0xe2)]['remove'](_0x31b1e2(0xdf)),_0xeacb0c['classList'][_0x31b1e2(0xe1)]('selected'),this['selectedIcons'][_0x31b1e2(0xe1)](_0xeacb0c));}),this['selectionBox']?.['parentNode']&&(this['selectionBox'][_0x3ef67c(0xe9)]['removeChild'](this['selectionBox']),this[_0x3ef67c(0x11c)]=null),this['activeDragPointerId']=null));});}['highlightIconsIntersecting'](_0x5882c0,_0xb441c1,_0x5be66f,_0x2e25c7){const _0x445226=_0x4a2073,_0x13dee2=_0x5882c0,_0x292c1e=_0xb441c1,_0x5d77e3=_0x5882c0+_0x5be66f,_0x5913f2=_0xb441c1+_0x2e25c7;this['getIcons']()[_0x445226(0x128)](_0x2ff868=>{const _0x3f7058=_0x445226,_0x5ab461=_0x2ff868[_0x3f7058(0x112)](),_0x4dbf7e=this[_0x3f7058(0x111)]['getBoundingClientRect'](),_0x39239f=_0x5ab461['left']-_0x4dbf7e[_0x3f7058(0x11d)],_0x3dfe54=_0x5ab461['top']-_0x4dbf7e[_0x3f7058(0x114)],_0x500961=_0x5ab461['right']-_0x4dbf7e[_0x3f7058(0x11d)],_0x462e2f=_0x5ab461['bottom']-_0x4dbf7e['top'];!(_0x500961<_0x13dee2||_0x39239f>_0x5d77e3||_0x462e2f<_0x292c1e||_0x3dfe54>_0x5913f2)?_0x2ff868[_0x3f7058(0xe2)]['add'](_0x3f7058(0xdf)):_0x2ff868[_0x3f7058(0xe2)]['remove']('hover-by-selection');});}[_0x4a2073(0x107)](_0x542427,_0x1f9369){const _0x319c81=_0x4a2073;_0x1f9369?_0x542427[_0x319c81(0xe2)]['contains']('selected')?(_0x542427['classList'][_0x319c81(0xee)](_0x319c81(0x102)),this[_0x319c81(0x113)][_0x319c81(0xe6)](_0x542427)):(_0x542427[_0x319c81(0xe2)]['add'](_0x319c81(0x102)),this['selectedIcons']['add'](_0x542427)):(this[_0x319c81(0xe4)](),_0x542427[_0x319c81(0xe2)][_0x319c81(0xe1)](_0x319c81(0x102)),this[_0x319c81(0x113)]['add'](_0x542427));}['selectIcon'](_0x2fc611,_0x446108=!0x0){const _0x2fa64e=_0x4a2073;_0x446108&&this[_0x2fa64e(0xe4)](),_0x2fc611[_0x2fa64e(0xe2)][_0x2fa64e(0xe1)](_0x2fa64e(0x102)),this['selectedIcons'][_0x2fa64e(0xe1)](_0x2fc611);}[_0x4a2073(0xe4)](){const _0x3f0de3=_0x4a2073;this['getIcons']()[_0x3f0de3(0x128)](_0x1a1684=>{const _0x38d8fe=_0x3f0de3;_0x1a1684['classList']['remove'](_0x38d8fe(0x102),_0x38d8fe(0xdf));}),this['selectedIcons']['clear']();}['clearTemporaryHighlights'](){const _0x580105=_0x4a2073;this['getIcons']()[_0x580105(0x128)](_0x520931=>_0x520931['classList'][_0x580105(0xee)]('hover-by-selection'));}[_0x4a2073(0xd8)](){const _0x361011=_0x4a2073;this['isDragging']=!0x1,this['hasDragged']=!0x1,this['activeDragPointerId']=null,this['selectionBox']&&this['selectionBox'][_0x361011(0xe9)]&&(this[_0x361011(0x11c)]['parentNode'][_0x361011(0xdb)](this['selectionBox']),this[_0x361011(0x11c)]=null),this[_0x361011(0xe5)]();}}